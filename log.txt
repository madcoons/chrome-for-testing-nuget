#0 building with "desktop-linux" instance using docker driver

#1 [internal] load build definition from Dockerfile.BuildLinux64
#1 transferring dockerfile: 3.36kB done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/ubuntu:22.04
#2 DONE 0.5s

#3 [internal] load metadata for docker.io/library/gcc:latest
#3 DONE 0.6s

#4 [internal] load .dockerignore
#4 transferring context: 2B done
#4 DONE 0.0s

#5 [ubuntu-with-chrome-deps 1/4] FROM docker.io/library/ubuntu:22.04@sha256:a6d2b38300ce017add71440577d5b0a90460d0e57fd7aec21dd0d1b0761bbfb2
#5 DONE 0.0s

#6 [entry-builder 1/3] FROM docker.io/library/gcc:latest@sha256:d7a40398ce9109d54019ad665f7d1a96c1a0e31ca7dfaa96979b918662f71338
#6 DONE 0.0s

#7 [internal] load build context
#7 transferring context: 28B done
#7 DONE 0.0s

#8 [chrome-app  3/11] ADD https://storage.googleapis.com/chrome-for-testing-public/125.0.6422.60/linux64/chrome-linux64.zip .
#8 DONE 0.1s

#9 [chrome-app 11/11] RUN patchelf --set-rpath "$ORIGIN/../lib/x86_64-linux-gnu" chrome_sandbox
#9 CACHED

#10 [final-chrome-root  8/14] COPY --from=ubuntu-with-chrome-deps /lib64 ./lib64
#10 CACHED

#11 [final-chrome-root  6/14] COPY --from=ubuntu-with-chrome-deps /etc ./etc
#11 CACHED

#12 [final-chrome-root  2/14] COPY --from=ubuntu-with-chrome-deps /lib/x86_64-linux-gnu/libc.so.6 /lib/x86_64-linux-gnu/libc.so.6
#12 CACHED

#13 [chrome-app  3/11] ADD https://storage.googleapis.com/chrome-for-testing-public/125.0.6422.60/linux64/chrome-linux64.zip .
#13 CACHED

#14 [final-chrome-root  1/14] COPY --from=ubuntu-with-chrome-deps /lib64/ld-linux-x86-64.so.2 /lib64/ld-linux-x86-64.so.2
#14 CACHED

#15 [entry-builder 2/3] COPY main.c .
#15 CACHED

#16 [entry-builder 3/3] RUN gcc -o /chrome-entry main.c -static
#16 CACHED

#17 [final-chrome-root  7/14] COPY --from=ubuntu-with-chrome-deps /lib ./lib
#17 CACHED

#18 [chrome-app  9/11] RUN patchelf --set-rpath "$ORIGIN/../lib/x86_64-linux-gnu" chrome_crashpad_handler
#18 CACHED

#19 [ubuntu-with-chrome-deps 2/4] RUN apt-get update && apt-get install -y     libasound2     libatk-bridge2.0-0     libatk1.0-0     libatspi2.0-0     libc6     libcairo2     libcups2     libdbus-1-3     libdrm2     libexpat1     libgbm1     libglib2.0-0     libnspr4     libnss3     libpango-1.0-0     libpangocairo-1.0-0     libstdc++6     libuuid1     libx11-6     libx11-xcb1     libxcb-dri3-0     libxcb1     libxcomposite1     libxcursor1     libxdamage1     libxext6     libxfixes3     libxi6     libxkbcommon0     libxrandr2     libxrender1     libxshmfence1     libxss1     libxtst6     && apt-get clean
#19 CACHED

#20 [final-chrome-root 14/14] RUN ./chrome-entry --no-sandbox --headless --screenshot=image.png --window-size=500x500 --enable-logging --v=2 --user-data-dir=/tmp --disable-dev-shm-usage "https://www.google.com"
#20 CACHED

#21 [final-chrome-root  3/14] COPY --from=ubuntu-with-chrome-deps /bin/sh /bin/
#21 CACHED

#22 [chrome-app  2/11] RUN apt-get update -y && apt-get install -y unzip patchelf
#22 CACHED

#23 [chrome-app  5/11] WORKDIR /chrome-linux64
#23 CACHED

#24 [chrome-app 10/11] RUN patchelf --set-interpreter "../lib/x86_64-linux-gnu/ld-linux-x86-64.so.2" chrome_sandbox
#24 CACHED

#25 [ubuntu-with-chrome-deps 3/4] COPY --from=chrome-app /chrome-linux64 /chrome-linux64
#25 CACHED

#26 [final-chrome-root  5/14] WORKDIR /chrome-root/
#26 CACHED

#27 [ubuntu-with-chrome-deps 4/4] RUN /chrome-linux64/chrome --no-sandbox --headless --screenshot=/chrome-screenshot.png --window-size=500x500 --disable-dev-shm-usage "https://www.google.com"
#27 CACHED

#28 [final-chrome-root  4/14] COPY --from=ubuntu-with-chrome-deps /bin/ls /bin/
#28 CACHED

#29 [final-chrome-root 13/14] COPY --from=ubuntu-with-chrome-deps /tmp /tmp
#29 CACHED

#30 [final-chrome-root 12/14] COPY --from=entry-builder /chrome-entry .
#30 CACHED

#31 [final-chrome-root 10/14] COPY --from=chrome-app /chrome-linux64 ./chrome-linux64
#31 CACHED

#32 [chrome-app  4/11] RUN unzip chrome-linux64.zip -d /
#32 CACHED

#33 [final-chrome-root  9/14] COPY --from=ubuntu-with-chrome-deps /usr ./usr
#33 CACHED

#34 [chrome-app  6/11] RUN patchelf --set-interpreter "../lib/x86_64-linux-gnu/ld-linux-x86-64.so.2" chrome
#34 CACHED

#35 [final-chrome-root 11/14] WORKDIR /chrome-root/chrome-linux64
#35 CACHED

#36 [chrome-app  8/11] RUN patchelf --set-interpreter "../lib/x86_64-linux-gnu/ld-linux-x86-64.so.2" chrome_crashpad_handler
#36 CACHED

#37 [chrome-app  7/11] RUN patchelf --set-rpath "$ORIGIN/../lib/x86_64-linux-gnu" chrome
#37 CACHED

#38 [stage-4 1/1] COPY --from=final-chrome-root /chrome-root /chrome-root
#38 CACHED

#39 exporting to image
#39 exporting layers done
#39 writing image sha256:8b3ced532f0ccf81405fe2dbe7ba48e443665a9e26cea3cddd2ebd7f0bfb0ca1 done
#39 DONE 0.0s

View build details: docker-desktop://dashboard/build/desktop-linux/desktop-linux/zgf9pl5vgxtpgzzlhjr2ot9p6
